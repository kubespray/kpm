<div class="package" ng-if="package">
  <h2>
    {{package.name}}
  </h2>
  <p>
    {{package.description}}
  </p>
    <ul>
      <li>Author: <code>{{package.author}}</code></li>
      <li>Version: <code>{{package.version}}</code></li>
      <li>Available versions:
        <code ng-repeat="version in package.available_versions">
          <a ui-sref="package({name: package.name + '/' + version})">{{version}}</a>
        </code>
      </li>
      <li>Downloads: <code>{{package.downloads}}</code></li>
    </ul>
    <h3>Dependencies</h3>
    <ol>
      <li ng-repeat="dependency in package.dependencies">
        <a ui-sref="package({name: dependency})">{{dependency}}</a>
      </li>
    </ol>
    <h3>Templates</h3>
    <ul>
      <li ng-repeat="resource in package.manifest.resources">
        <code>{{resource.type}}</code>
        {{resource.name}}
        <a href ng-click="toggleResource(resource)">{{resource.file}}</a>
        <pre ng-if="resource.content"><code prism="yaml">{{resource.content}}</code></pre>
      </li>
    </ul>
    <a ng-href="{{downloadUrl()}}" class="md-button md-raised">
      <md-tooltip>
        Generate tarball
      </md-tooltip>
      Download
    </a>
</div>

<p class="error-notice" ng-if="error">
  {{error}}
</p>

<a ui-sref="packages">Back</a>
